<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1 ,user-scalable=no" />
		<link rel="stylesheet" type="text/css"  th:href="@{/css/jquery.fullPage.css}"/>
		<link rel="stylesheet" type="text/css"   th:href="@{/css/animate.css}"/>
		<link rel="stylesheet" type="text/css"   th:href="@{/css/index.css}"/>
		<script   th:src="@{/js/jquery-3.6.0.js}" type="text/javascript" charset="utf-8"></script>
		<script  th:src="@{/js/jquery.fullPage.js}" type="text/javascript" charset="utf-8"></script>
		<title>南京妇幼</title>
		<script type="text/javascript">
			document.documentElement.style.fontSize = document.documentElement.clientWidth / 750*16 + 'px';			
		</script>
	</head>
	<body>
		<div id="dowebok" th:each="doctor : ${doctors}">
<!--			th:if="${doctor.visits>0}"-->
			<div class="section active" id="page01">
				<div class="page02-bg01 "></div>
				<div class="page02-bg02 animated"><img src="../static/images/page02.png" th:src="@{images/page02.png}"/></div>
				<div class="page02-text">
					<div class="page02-title animated">
						<p>一年来，您共诊治了<span class="timer" id="page01Data" th:data-to="${doctor.visits}" data-speed="2000"></span>位门诊患者！</p>
						<p><span th:text="${doctor.maxVisitDate}"></span></p>
						<p>是您近一年单日看诊人次最多的日子，</p>
						<p th:if="${doctor.maxVisit!=null &amp;&amp; doctor.maxVisit!=0}">共诊治了<span class="timer" th:data-to="${doctor.maxVisit}" data-speed="2000"></span>位门诊患者！</p>
						<p>再忙您也要注意身体！</p>
					</div>	
				</div>
			</div>
			<div class="section" id="page02">
				<div class="page03-bg01"></div>
				<div class="page03-bg02 animated"><img src="../static/images/page03.png" th:src="@{/images/page03.png}"/></div>
				<div class="page03-text">
					<div class="page03-title animated" th:if="${doctor.healing!=null &amp;&amp; doctor.healing!=0}">
						<p th:if="${doctor.healing!=null &amp;&amp; doctor.healing!=0}">一年来，您共参与治疗了<span class="timer" id="page02Data" th:data-to="${doctor.healing}" data-speed="2000"></span>位住院患者,</p>
						<p th:if="${doctor.operation!=0 &amp;&amp; doctor.operation!=null}">您成功为患者施行了<span class="timer" th:data-to="${doctor.operation}" data-speed="2000"></span>次手术，</p>
						<p th:if="${doctor.timeOperations!=null &amp;&amp; doctor.timeOperations!=0}">您在手术台上总共战斗了<span class="timer" th:data-to="${doctor.timeOperations}" data-speed="2000"></span>个小时！</p>
						<p th:if="${doctor.partner!=null &amp;&amp; doctor.partner!=0}"><span th:text="${doctor.partner}"></span>是您最坚实最默契的搭档。</p>
					</div>
				</div>
				<div class="page03-bottom animated" th:if="${doctor.healing>0}">
					<p>数据来源于病案首页</p>
					<p>手术次数统计包括: 手术医师, Ⅰ助, Ⅱ助</p>
				</div>
			</div>
			<div class="section" style="background: #e6f7f9;" id="page03">
				<div class="page04-bg01 animated"></div>
				<div class="page04-text">
					<div class="page04-title animated" th:if="${doctor.maxDate!=null &amp;&amp; doctor.maxDate!=0}">
						<p th:if="${doctor.maxDate!=null &amp;&amp; doctor.maxDate!=0}"><h5 id="page03Data" th:text="${doctor.maxDate}"></h5></p>
						<p th:if="${doctor.maxDate!=null &amp;&amp; doctor.maxDate!=0}">您完成了一年来耗时最长的一台手术，</p>
						<p th:if="${doctor.maxTimeOperations!=null &amp;&amp; doctor.maxTimeOperations!=0}"><span class="timer" th:data-to="${doctor.maxTimeOperations}" data-speed="2000"></span>分钟映照着您疲惫又欣慰的身影！</p>
						<p th:if="${doctor.latestTimeOperations!=null &amp;&amp; doctor.latestTimeOperations!=0}">您最晚<span th:text="${doctor.latestTimeOperations}"></span></br>才从手术台上离开！</p>
						<p>妙手仁心紧握刀，</p>
						<p>情牵生命抢分毫！</p>
					</div>	
				</div>
				<div class="page03-bottom animated" id="page04" th:if="${doctor.maxDate!=null &amp;&amp; doctor.maxDate!=0}">
					<p>数据来源于病案首页</p>
					<p>手术次数统计包括: 手术医师, Ⅰ助, Ⅱ助</p>
				</div>
			</div>
			<div class="section" id="page05">
				<div class="page05-bg01"></div>
				<div class="page05-bg02">
					<div class="page05-line animated">
						<img src="../static/images/page05-2.png" th:src="@{/images/page05-2.png}"/>
					</div>
					<div class="page05-text animated">
						<div class="page05-title" th:if="${doctor.birthDate!=null &amp;&amp; doctor.birthDate!=0}">
							<p><span th:text="${doctor.birthDate}" id="page05Data"></span>是您的生日，</p>
							<p>这一天您一如既往，</p>
							<p th:if="${doctor.birthVisits!=null &amp;&amp; doctor.birthVisits!=0}">诊治了<span class="timer" th:data-to="${doctor.birthVisits}" data-speed="2000"></span>位患者，</p>
							<p th:if="${doctor.birthOperations!=null &amp;&amp; doctor.birthOperations!=0}">完成了<span class="timer" th:data-to="${doctor.birthOperations}" data-speed="2000"></span>台手术。</p>
							<p>不曾辜负每一份热情与希望！</p>
						</div>
					</div>
				</div>
			</div>
			<div class="section" id="page06">
				<div class="page01-bg01"></div>
				<div class="page01-bg02 animated"></div>
				<div class="page01-bottom">
					<div class="page01-title animated" th:if="${doctor.onlineVisits!=null &amp;&amp; doctor.onlineVisits!=0}">
						<p>一年来，</p>
						<p th:if="${doctor.onlineVisits!=null &amp;&amp; doctor.onlineVisits!=0}">您共接诊线上诊疗<span class="timer" id="page06Data"  th:data-to="${doctor.onlineVisits}" data-speed="2000"></span>人次，</p>
						<p>感谢您让冰冷的屏幕更有温度！</p>
					</div>
				</div>
			</div>
			<div class="section" id="page07">
				<div class="page06-bg01"></div>
				<div class="page06-icon">
					<ul>
						<li class="page06-icon01 animated"><img src="../static/images/page06.png" th:src="@{/images/page06.png}"/></li>
						<li class="page06-icon02 animated"><img src="../static/images/home-i01.png" th:src="@{/images/home-i01.png}"/></li>
						<li class="page06-icon03 animated"><img src="../static/images/home-i02.png" th:src="@{/images/home-i02.png}"/></li>
						<li class="page06-icon04 animated"><img src="../static/images/home-i06.png" th:src="@{/images/home-i06.png}"/></li>
					</ul>
				</div>
				<div class="page06-text">
					<div class="page06-title animated" >
						<p class="animated">医者之路，艰辛亦荣耀；初心常在，无悔即人生。感谢您这一年辛苦无悔地付出，向守护在岗位的您，致以最诚挚的节日问候！</p>
						<h5><p><span class="animated">谢</span><span class="animated">谢</span><span class="animated">您</span><span class="animated">！</span></p></h5>
						<a class="animated" href="index2.html" th:href="@{/findDoctor(id=${doctor.id})}">再次回顾</a>
					</div>
				</div>
			</div>
		</div>
		<div class="page-down">
			<img src="../static/images/page01-i01.png" th:src="@{/images/page01-i01.png}"/>
			<img src="../static/images/page01-i02.png" th:src="@{/images/page01-i02.png}"/>
		</div>
	</body>
	<script src="../static/js/timepeople.js" th:src="@{/js/timepeople.js}" type="text/javascript" charset="utf-8"></script>
	<script>
		$(function(){
			// var num1 = $('#page01').find('.timer').eq(0).text();
			var page01Data = $('#page01Data').data('to');
			var page02Data = $('#page02Data').data('to');
		    // var num2 = $('#page02').find('.timer').eq(1).text();
			var page03Data = $('#page03Data').text();
			var page05Data = $('#page05Data').text();
			var page06Data = $('#page06Data').data('to');

		    if(!page01Data || page01Data==''){
		    	$('#page01').remove();
		    }
			if (!page02Data || page02Data==''){
				$('#page02').remove();
			}
			if (!page03Data || page03Data=='') {
				$('#page03').remove();
			}
			if (!page05Data || page05Data=='') {
				$('#page05').remove();
			}
			if (!page06Data || page06Data=='') {
				$('#page06').remove();
			}
			$('#page01').addClass('active')
			setTimeout(function () {
				$('.page02-title').addClass("fadeInDown");
			}, 1000);
			setTimeout(function () {
				$('.page02-bg02').addClass("fadeInRight");
			}, 1000);
			
			setTimeout(function () {
				$('.active .timer').each(count);
			}, 1000);
			

			$('#dowebok').fullpage({
				verticalCentered: false,
				navigation: false,
				scrollingSpeed: 1000,
		        easing: 'easeInOutCubic',
		        easingcss3: 'ease',
		        onLeave: function(anchorLink, index){
		        	setTimeout(function () {
						$('.active .timer').each(count);
					}, 1000);
				},
			});
		});
	</script>
</html>
